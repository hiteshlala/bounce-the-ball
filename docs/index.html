<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="initial-scale=1.0" />
  <title> Bounce The Ball </title>
  <link rel="icon" href="favicon.png" type="image/png">
  <link rel="stylesheet" href="layout.css">
  <link rel="stylesheet" type="text/css" href="bounceBall.css">
</head>

<body>
  <div class="mainwrapper">
    <header>
      <div class="header-wrap">
        <div class="header-img">
          <img alt="logo" src="favicon.png" type="image/png">
        </div>
        <div class="header-txt"> Bounce The Ball </div>
        <div class="spacer"></div>
        <div class="header-navigate" id="navigate">
          <a class="nav-item" href="https://hiteshlala.com">Code</a>
        </div>
      </div>
    </header>

      <div class="bb-content">

        <div class='bb-center'>
          <p>Choose from 0 to 5 balls and begin bouncing in box</p>
          <p><input id="numballs" type="number" style="width: 50px" value="3">
            <input onclick="bounce()" type="button" value="Bounce Balls" /></p>
        </div>

        <div id="msg" class="bb-center" style="color : red"></div>

        <div class="bb-center">
          <canvas id="box" width="300" height="300">
          </canvas>
        </div>

        <div class="bb-center">
          <p>Number of balls has been limited for two reasons:</p>
          <p>1. to reduce wierd artifacts resulting from multiple object collsions. Have not yet figured out how to
            handle those... </p>
          <p>2. so that inital balls fit on canvas without overlap - about 50 can fit but they behave weirdly</p>
        </div>
        <hr />
        <div class='bb-space'>
          <div>
            <h1>Function summary for Bounce The Ball</h1>
          </div>
          <h3>bounce()</h3>
          <ul>
            <li>checks to see if number of balls within range</li>
            <li>calls createBalls() once</li>
            <li>calls drawBalls() at regular intervals</li>
          </ul>
          <h3>createBalls()</h3>
          <ul>
            <li>creates the balls making sure that no overlap occurs</li>
            <li>stores balls in document.balls array</li>
          </ul>
          <h3>drawBalls()</h3>
          <ul>
            <li>draws balls stored in document.balls array</li>
            <li>calls collideBall()</li>
            <li>calls collideBall() for each ball</li>
          </ul>
          <h3>rndXY(radius)</h3>
          <ul>
            <li>returns function that will return a random number in range:</li>
            <li>from radius to (width or height)-radius</li>
          </ul>
          <h3>Ball(idx, x, y)</h3>
          <ul>
            <li>is the ball object</li>
            <li>stores info about ball x, y, velocity vectors, radius</li>
          </ul>

          <h3>updatePos(ballObj)</h3>
          <ul>
            <li>moves ball one step by adding velocity vectors to position</li>
          </ul>
          <h3>dist(ball1, ball2)</h3>
          <ul>
            <li>calculates and returns the distance between ball1 and ball2</li>
          </ul>
          <h3>collideBall(process)</h3>
          <ul>
            <li>finds balls that are colliding and</li>
            <li>runs process() on each ball</li>
          </ul>
          <h3>newTrajectory(ball1, ball2)</h3>
          <ul>
            <li>calculates after collision trajectory for ball1 and ball2</li>
          </ul>
          <h3>collideWall(ballObj)</h3>
          <ul>
            <li>check if ballObj collides with wall</li>
            <li>if does change trajectory of ballObj to bounce</li>
            <li>else do nothing</li>
          </ul>
        </div>

      </div>

    <div class="spacer"></div>

    <footer>
      <div>
        <p>
          <a href="https://hiteshlala.com"> &copy; Hitesh Lala</a> <span id="year"></span>
        </p>
      </div>
    </footer>
    <script src="bounceBall.js"></script>
    <script language="javascript">
      window.onload = () => {
        const date = document.getElementById('year');
        const nav = document.getElementById('navigate');

        date.innerText = `2016 - ${new Date().getFullYear()}`;

        const path = window.location.pathname.split('/');
        const page = path[path.length - 1];
      };
    </script>

  </div>
</body>

</html>